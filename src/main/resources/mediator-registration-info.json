{
  "urn": "urn:uuid:0ad8fbe0-434c-11eb-b585-df00a464e3b8",
  "version": "0.1.0",
  "name": "HDR mediator",
  "description": "An OpenHIM mediator for processing data to be sent to HDR from EMR systems",
  "endpoints": [
    {
      "name": "HDR mediator Service Received Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr_mediator/service_received",
      "type": "http"
    },
    {
      "name": "HDR mediator Daily Death Count Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr_mediator/daily_death_count",
      "type": "http"
    },
    {
      "name": "HDR mediator Bed Occupancy Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr_mediator/bed_occupancy",
      "type": "http"
    },
    {
      "name": "HDR mediator Revenue Received Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr_mediator/revenue_received",
      "type": "http"
    }
  ],
  "defaultChannelConfig": [
    {
      "name": "HDR Services Received mediator",
      "urlPattern": "^/services_received$",
      "description": "OpenHIM Mediator for processing services received payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "hdr-mediator"
      ],
      "routes": [
        {
          "name": "HDR mediator Service Received Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr_mediator/service_received",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Daily Death Count mediator",
      "urlPattern": "^/daily_death_count$",
      "description": "OpenHIM Mediator for processing daily death count payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "hdr-mediator"
      ],
      "routes": [
        {
          "name": "HDR mediator Daily Death Count Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr_mediator/daily_death_count",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Bed Occupancy mediator",
      "urlPattern": "^/bed_occupancy$",
      "description": "OpenHIM Mediator for processing bed occupancy payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "hdr-mediator"
      ],
      "routes": [
        {
          "name": "HDR mediator Bed Occupancy Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr_mediator/bed_occupancy",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Revenue Received mediator",
      "urlPattern": "^/revenue_received$",
      "description": "OpenHIM Mediator for processing revenue received payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "hdr-mediator"
      ],
      "routes": [
        {
          "name": "HDR mediator Revenue Received Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr_mediator/revenue_received",
          "type": "http"
        }
      ]
    }
  ],
  "configDefs": [
    {
      "param": "departmentMappings",
      "displayName": "Departments Ids Mappings",
      "description": "Departments Ids Mappings",
      "type": "struct",
      "array": true,
      "template": [
        {
          "param": "localDepartmentId",
          "displayName": "Local Department ID",
          "description": "Department ID received from source system",
          "type": "number"
        },
        {
          "param": "departmentName",
          "displayName": "Department Name",
          "description": "Department Name",
          "type": "string"
        }
      ]
    },
    {
      "param": "wardsMappings",
      "displayName": "Wards Ids Mappings",
      "description": "Wards Ids Mappings",
      "type": "struct",
      "array": true,
      "template": [
        {
          "param": "localWardId",
          "displayName": "Local Ward ID",
          "description": "Ward ID received from source system",
          "type": "number"
        },
        {
          "param": "wardName",
          "displayName": "Ward Name",
          "description": "Name of the Ward",
          "type": "string"
        },
        {
          "param": "localDepartmentId",
          "displayName": "Department ID",
          "description": "Department ID",
          "type": "number"
        },
        {
          "param": "numberOfBeds",
          "displayName": "Number Of Beds",
          "description": "Number Of Beds",
          "type": "number"
        }
      ]
    },
    {
      "param": "payer",
      "displayName": "HDR payer ids Categories Mappings",
      "description": "A list of hosts to load balance between",
      "type": "struct",
      "array": true,
      "template": [
        {
          "param": "localPayerId",
          "displayName": "Local Payer ID",
          "description": "Local Payer ID",
          "type": "number"
        },
        {
          "param": "payerName",
          "displayName": "Payer Name",
          "description": "Payer Name",
          "type": "string"
        },
        {
          "param": "HdrPayerCategories",
          "displayName": "Payer Categories",
          "description": "HDR Payer Categories",
          "type": "option",
          "values": [
            "Cash",
            "NHIF",
            "Other insurance",
            "Exemption",
            "Cost Sharing"
          ]
        }
      ]
    },
    {
      "param": "exemption",
      "displayName": "Exemptions Mappings",
      "description": "A list of exemptions",
      "type": "struct",
      "array": true,
      "template": [
        {
          "param": "localPayerId",
          "displayName": "Local Exemption ID",
          "description": "Local Exemption ID obtained from source system",
          "type": "number"
        },
        {
          "param": "exemptionName",
          "displayName": "Exemption Name",
          "description": "Name of the exemption",
          "type": "string"
        },
        {
          "param": "hdrExemptionCategories",
          "displayName": "HDR Exemption Categories",
          "description": "HDR Exemption Categories",
          "type": "option",
          "values": [
            "Aged (>60)",
            "Children (<5)",
            "HIV/TB",
            "Cancer",
            "Pregnant Women",
            "Social Problem",
            "PSYCHIATRIC (Mental Health Problem)",
            "Other"
          ]
        }
      ]
    }
  ]
}
