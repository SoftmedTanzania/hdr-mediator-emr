{
  "urn": "urn:uuid:0ad8fbe0-434c-11eb-b585-df00a464e3b8",
  "version": "0.1.0",
  "name": "HDR mediator",
  "description": "An OpenHIM mediator for processing data to be sent to HDR from EMR systems",
  "endpoints": [
    {
      "name": "HDR mediator Service Received Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr-service-received",
      "type": "http"
    },
    {
      "name": "HDR mediator Daily Death Count Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr-daily-death-count",
      "type": "http"
    },
    {
      "name": "HDR mediator Bed Occupancy Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr-bed-occupancy",
      "type": "http"
    },
    {
      "name": "HDR mediator Revenue Received Route",
      "host": "localhost",
      "port": "3000",
      "path": "/hdr-revenue-received",
      "type": "http"
    }
  ],
  "defaultChannelConfig": [
    {
      "name": "HDR Services Received Channel",
      "urlPattern": "^/services_received$",
      "description": "OpenHIM Channel for processing services received payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "emr-role"
      ],
      "routes": [
        {
          "name": "HDR mediator Service Received Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr-service-received",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Daily Death Count Channel",
      "urlPattern": "^/daily_death_count$",
      "description": "OpenHIM Channel for processing daily death count payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "emr-role"
      ],
      "routes": [
        {
          "name": "HDR mediator Daily Death Count Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr-daily-death-count",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Bed Occupancy Channel",
      "urlPattern": "^/bed_occupancy$",
      "description": "OpenHIM Channel for processing bed occupancy payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "emr-role"
      ],
      "routes": [
        {
          "name": "HDR mediator Bed Occupancy Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr-bed-occupancy",
          "type": "http"
        }
      ]
    },
    {
      "name": "HDR Revenue Received Channel",
      "urlPattern": "^/revenue_received$",
      "description": "OpenHIM Channel for processing revenue received payload sent by EMR systems to Tanzania Health Data Repository",
      "type": "http",
      "allow": [
        "emr-role"
      ],
      "routes": [
        {
          "name": "HDR mediator Revenue Received Route",
          "host": "localhost",
          "port": "3000",
          "path": "/hdr-revenue-received",
          "type": "http"
        }
      ]
    }
  ],
  "configDefs": [
    {
      "param": "hdrConnectionProperties",
      "displayName": "HDR Connection Properties",
      "description": "Configuration to set the hostname, port and path for the HDR server",
      "type": "struct",
      "template": [
        {
          "param": "hdrHost",
          "displayName": "HDR Host Name",
          "description": "IP address/hostname of the HDR server. e.g 192.168.1.1",
          "type": "string"
        },
        {
          "param": "hdrPort",
          "displayName": "HDR Port Number",
          "description": "The port number of that the hdr is running on. e.g 8080",
          "type": "number"
        },
        {
          "param": "hdrPath",
          "displayName": "HDR Path",
          "description": "The the path to the correct endpoint for receiving of data from the HIM. eg /hdr",
          "type": "string"
        },
        {
          "param": "hdrScheme",
          "displayName": "HDR Scheme",
          "description": "Whether the hdr is using HTTP or HTTPS requests",
          "type": "option",
          "values": ["http", "https"]
        }
      ]
    }
  ]
}
